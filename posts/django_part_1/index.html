<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><style>:root{--accent-color:#FF4D4D;--font-size:17.5px}</style><title>Django_Part_1</title>
<meta name=description content="创建项目 建立一个 Django 项目 —— Django 实例的设置集合，包括数据库配置、Django 特定的选项和应用程序特定的设置。 django-admin startproject mysite 让我们看看startproject创建了什么：
djangotutorial/ manage.py mysite/ …"><meta name=keywords content='blog,hugo,python,Django'><meta property="og:url" content="https://merthon.github.io/posts/django_part_1/"><meta property="og:type" content="website"><meta property="og:title" content="Django_Part_1"><meta property="og:description" content="创建项目 建立一个 Django 项目 —— Django 实例的设置集合，包括数据库配置、Django 特定的选项和应用程序特定的设置。 django-admin startproject mysite 让我们看看startproject创建了什么：
djangotutorial/ manage.py mysite/ …"><meta property="og:image" content="https://merthon.github.io/images/cat.webp"><meta property="og:image:secure_url" content="https://merthon.github.io/images/cat.webp"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Django_Part_1"><meta name=twitter:description content="创建项目 建立一个 Django 项目 —— Django 实例的设置集合，包括数据库配置、Django 特定的选项和应用程序特定的设置。 django-admin startproject mysite 让我们看看startproject创建了什么：
djangotutorial/ manage.py mysite/ …"><meta property="twitter:domain" content="https://merthon.github.io/posts/django_part_1/"><meta property="twitter:url" content="https://merthon.github.io/posts/django_part_1/"><meta name=twitter:image content="https://merthon.github.io/images/cat.webp"><link rel=canonical href=https://merthon.github.io/posts/django_part_1/><link rel=stylesheet type=text/css href=/css/normalize.min.css media=print><link rel=stylesheet type=text/css href=/css/main.min.css><link id=dark-theme rel=stylesheet href=/css/dark.min.css><script src=/js/bundle.min.275fedb6f364c8865658bae576d82b514ace973f6a13ed63503a85b20c697453.js integrity="sha256-J1/ttvNkyIZWWLrldtgrUUrOlz9qE+1jUDqFsgxpdFM="></script></head><body><script>setThemeByUserPref()</script><header class=header><nav class=header-nav><div class=avatar><a href=https://merthon.github.io/><img src=/images/cat.webp alt=cat></a></div><div class=nav-title><a class=nav-brand href=https://merthon.github.io/>Merthon</a></div><div class=nav-links><div class=nav-link><a href=https://merthon.github.io/ aria-label><span data-feather=home></span> Home</a></div><div class=nav-link><a href=https://merthon.github.io/posts/ aria-label><span data-feather=book></span> Posts</a></div><div class=nav-link><a href=https://merthon.github.io/projects/ aria-label><span data-feather=code></span> Projects</a></div><div class=nav-link><a href=https://merthon.github.io/tags/ aria-label><span data-feather=tag></span> Tags</a></div><div class=nav-link><a href=https://github.com/Merthon aria-label=github><span data-feather=github></span></a></div><span class=nav-icons-divider></span><div class="nav-link dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a aria-hidden=true role=switch><span class=theme-toggle-icon data-feather=moon></span></a></div><div class=nav-link id=hamburger-menu-toggle><span class="sr-only hamburger-menu-toggle-screen-reader-target">menu</span>
<a aria-checked=false aria-labelledby=hamburger-menu-toggle id=hamburger-menu-toggle-target role=switch><span data-feather=menu></span></a></div><ul class="nav-hamburger-list visibility-hidden"><li class=nav-item><a href=https://merthon.github.io/><span data-feather=home></span> Home</a></li><li class=nav-item><a href=https://merthon.github.io/posts/><span data-feather=book></span> Posts</a></li><li class=nav-item><a href=https://merthon.github.io/projects/><span data-feather=code></span> Projects</a></li><li class=nav-item><a href=https://merthon.github.io/tags/><span data-feather=tag></span> Tags</a></li><li class=nav-item><a href=https://github.com/Merthon><span data-feather=github></span></a></li><li class="nav-item dark-theme-toggle"><span class="sr-only dark-theme-toggle-screen-reader-target">theme</span>
<a role=switch><span class=theme-toggle-icon data-feather=moon></span></a></li></ul></div></nav></header><main id=content><div class="post container"><div class=post-header-section><h1>Django_Part_1</h1><small role=doc-subtitle></small><p class=post-date>February 21, 2025</p><ul class=post-tags><li class=post-tag><a href=https://merthon.github.io/tags/python>python</a></li><li class=post-tag><a href=https://merthon.github.io/tags/django>Django</a></li></ul></div><div class=post-content><h2 id=创建项目>创建项目</h2><p>建立一个 Django 项目 —— Django 实例的设置集合，包括数据库配置、Django 特定的选项和应用程序特定的设置。
<code>django-admin startproject mysite</code>
让我们看看startproject创建了什么：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>djangotutorial/
</span></span><span style=display:flex><span>    manage.py
</span></span><span style=display:flex><span>    mysite/
</span></span><span style=display:flex><span>        __init__.py
</span></span><span style=display:flex><span>        settings.py
</span></span><span style=display:flex><span>        urls.py
</span></span><span style=display:flex><span>        asgi.py
</span></span><span style=display:flex><span>        wsgi.py
</span></span></code></pre></div><ul><li>manage.py：一个命令行工具，让你以各种方式与这个 Django 项目交互。你可以在 django-admin 和 manage.py 中阅读有关 manage.py 的所有详细信息。</li><li>mysite/：一个目录，该目录是项目的实际 Python 包。它的名称是导入其中任何内容（例如 mysite.urls）时需要使用的 Python 包名称。</li><li>mysite/<strong>init</strong>.py：一个空文件，告诉 Python 这个目录应该被视为一个 Python 包。</li><li>mysite/settings.py： 这个 Django 项目的设置/配置。Django 设置将告诉你所有关于设置是如何工作的。</li><li>mysite/urls.py： 这个 Django 项目的 URL 声明;你的 Django 驱动的网站的 “目录”。</li><li>mysite/urls.py： 这个 Django 项目的 URL 声明;你的 Django 驱动的网站的 “目录”。</li><li>mysite/wsgi.py：与 WSGI 兼容的 Web 服务器为您的项目提供服务的入口点。</li></ul><h2 id=运行>运行</h2><p><code>python manage.py runserver</code>
服务器正在运行，请使用 Web 浏览器访问http://120.0.0.1:8000/你会看到一个 “Congratulations！” 页面，火箭起飞了。成功了！</p><h2 id=创建-polls-应用程序>创建 Polls 应用程序</h2><p>要创建应用程序，请确保您与 manage.py 位于同一目录中，然后键入以下命令：
<code>python manage.py startapp polls</code>
这将创建一个目录 <code>polls</code>，其布局如下：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>polls/
</span></span><span style=display:flex><span>    __init__.py
</span></span><span style=display:flex><span>    admin.py
</span></span><span style=display:flex><span>    apps.py
</span></span><span style=display:flex><span>    migrations/
</span></span><span style=display:flex><span>        __init__.py
</span></span><span style=display:flex><span>    models.py
</span></span><span style=display:flex><span>    tests.py
</span></span><span style=display:flex><span>    views.py
</span></span></code></pre></div><h3 id=编写视图>编写视图</h3><p>让我们编写第一个视图。打开文件 polls/views.py 并将以下 Python 代码放入其中：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> django.http <span style=color:#f92672>import</span> HttpResponse
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>index</span>(request):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> HttpResponse(<span style=color:#e6db74>&#34;Hello, world. You&#39;re at the polls index.&#34;</span>)
</span></span></code></pre></div><p>这是 Django 中最基本的视图。要在浏览器中访问它，我们需要将其映射到一个 URL —— 为此，我们需要定义一个 URL 配置，或简称 “URLconf”。这些 URL 配置在每个 Django 应用程序中定义，它们是名为 urls.py 的 Python 文件。
要为 polls 应用程序定义一个 URLconf，请创建一个包含以下内容的 polls/urls.py 文件：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> django.urls <span style=color:#f92672>import</span> path
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> . <span style=color:#f92672>import</span> views
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>urlpatterns <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>    path(<span style=color:#e6db74>&#34;&#34;</span>, views<span style=color:#f92672>.</span>index, name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;index&#34;</span>),
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><p>下一步是在 mysite 项目中配置全局 URLconf 以包含 polls.urls 中定义的 URLconf。为此，请在 mysite/urls.py 中添加 django.urls.include 的导入，并在 urlpatterns 列表中插入一个 include（），这样你就有：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> django.contrib <span style=color:#f92672>import</span> admin
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> django.urls <span style=color:#f92672>import</span> include, path
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>urlpatterns <span style=color:#f92672>=</span> [
</span></span><span style=display:flex><span>    path(<span style=color:#e6db74>&#34;polls/&#34;</span>, include(<span style=color:#e6db74>&#34;polls.urls&#34;</span>)),
</span></span><span style=display:flex><span>    path(<span style=color:#e6db74>&#34;admin/&#34;</span>, admin<span style=color:#f92672>.</span>site<span style=color:#f92672>.</span>urls),
</span></span><span style=display:flex><span>]
</span></span></code></pre></div><p>path（） 函数至少需要两个参数：route 和 view。include（） 函数允许引用其他 URLconf。每当 Django 遇到 include（） 时，它都会截断 URL 中匹配到该点的任何部分，并将剩余的字符串发送到包含的 URLconf 进行进一步处理。
include（） 背后的想法是让即插即用的 URL 变得容易。由于投票在它们自己的 URLconf （polls/urls.py） 中，它们可以放在 “/polls/” 或 “/fun_polls/” 下，或 “/content/polls/” 下，或任何其他路径根目录下，应用程序仍然可以工作。
现在已经将索引视图连接到 URLconf 中
在浏览器中转到http://120.0.0.1:8000/polls/您应该会看到文本“Hello， world.You&rsquo;re at the polls index.“，这是您在索引视图中定义的。</p></div><div class=prev-next></div><svg id="btt-button" class="arrow-logo" height="1em" viewBox="0 0 384 512" onclick="scrollToTop()" title="Go to top"><path d="M177 159.7l136 136c9.4 9.4 9.4 24.6.0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9.0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9.0L7 329.7c-9.4-9.4-9.4-24.6.0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"/></svg>
<script>let backToTopButton=document.getElementById("btt-button");window.onscroll=function(){scrollFunction()};function scrollFunction(){document.body.scrollTop>20||document.documentElement.scrollTop>20?backToTopButton.style.display="block":backToTopButton.style.display="none"}function scrollToTop(){window.scrollTo(0,0)}</script></div><aside class=post-toc><nav id=toc><nav id=TableOfContents><ul><li><ul><li><a href=#创建项目>创建项目</a></li><li><a href=#运行>运行</a></li><li><a href=#创建-polls-应用程序>创建 Polls 应用程序</a><ul><li><a href=#编写视图>编写视图</a></li></ul></li></ul></li></ul></nav></nav></aside></main><footer class=footer><span>&copy; 2025 Merthon</span>
<span>Made with &#10084;&#65039; Hugo</span></footer></body></html>